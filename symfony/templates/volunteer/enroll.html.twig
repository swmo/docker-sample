{% extends 'base.html.twig' %}

{% block title %}ANMELDUNG HELFER | Burgdorfer Stadtlauf {% endblock %}

{% block main %}

    <section class="font-sans antialiased w-full">
        <div class="container mx-auto">
            <div class="w-full mx-auto">
                <div class="my-8 flex flex-wrap md:items-center w-full">
                    <div class="bg-white shadow-lg rounded w-full md:w-1/2 z-10">
                        {{ form_start(enrollForm) }}
                            <div class="py-8 text-center text-grey-darkest font-semibold uppercase">Anmeldung als Helfer </div>
                            <hr class="py-0 my-0 border border-grey-lighter">
                            <div class="py-8 w-3/4 mx-auto">
                                <div class="flex flex-wrap -mx-3 mb-6">
                                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                    <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-first-name">
                                        Vorname
                                    </label>
                                    <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="grid-first-name" type="text" placeholder="">
                                    <p class="text-red text-xs italic">Please fill out this field.</p>
                                    </div>
                                    <div class="w-full md:w-1/2 px-3">
                                    <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-last-name">
                                        Nachname
                                    </label>
                                    <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-last-name" type="text" placeholder="">
                                    </div>
                                </div>

                                <div class="flex flex-wrap -mx-3 mb-6">
                                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-password">
                                            Mobile
                                        </label>
                                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-password" type="text" placeholder="">
                                    </div>
                                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-password">
                                            E-Mail
                                        </label>
                                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-password" type="text" placeholder="">
                                    </div>
                                </div>

                                <div class="flex flex-wrap -mx-3 mb-6">

                                    <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-password">
                                            Geburtsdatum
                                        </label>
                                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-password" type="text" placeholder="">
                                    </div>
                                    <div class="w-full md:w-2/3 px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-password">
                                            Adresse
                                        </label>
                                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-password" type="text" placeholder="">
                                    </div>
                                </div>

                                <div class="flex flex-wrap -mx-3 mb-12">
                                    <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                                    <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-zip">
                                        PLZ
                                    </label>
                                    <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-zip" type="text" placeholder="3400">
                                    </div>
                                    <div class="w-full md:w-2/3 px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-city">
                                            Stadt
                                        </label>
                                        <input class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-city" type="text" placeholder="Burgdorf">
                                    </div>
                                </div>
                        
                                <div class="flex flex-wrap -mx-3 mb-6">
                                    <div class="w-full px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-state">
                                            gewünschter Einsatzort
                                        </label>
                                        <div class="flex">
                                            <div class="relative md:w-1/2 mr-3">
                                                <select 
                                                    class="block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-grey" 
                                                    placeholder="1. Wahl"
                                                    >
                                                <option>New Mexico</option>
                                                <option>Missouri</option>
                                                <option>Texas</option>
                                                </select>
                                                <div class="pointer-events-none absolute pin-y pin-r flex items-center px-2 text-grey-darker">
                                                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                                                </div>
                                            </div>
                                            <div class="relative md:w-1/2 ml-3">
                                                <select class="block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-grey" id="grid-state">
                                                <option>New Mexico</option>
                                                <option>Missouri</option>
                                                <option>Texas</option>
                                                </select>
                                                <div class="pointer-events-none absolute pin-y pin-r flex items-center px-2 text-grey-darker">
                                                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>  
                                <div class="flex flex-wrap -mx-3 mb-6">
                                    <div class="w-full px-3 mb-6 md:mb-0">
                                        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-password">
                                            Bemerkungen / Anregungen / Wünsche
                                        </label>
                                        <textarea class="block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-grey"  rows="6"></textarea>   
                                    </div>
                                </div>
        
                                <p class="mt-5">
                                    <div class="flex mb-2">
                                        <i class="fas fa-check-circle mr-2 mb-2"></i>  
                                        Selbstverständlich darf sich jeder Helfer auf ein Helfergeschenk freuen.
                                    </div>
                                    <div class="flex mb-2">
                                        <i class="fas fa-check-circle mr-2 "></i>  
                                        Nach Abrsprache können gerne Kinder ab 9 Jahren mithelfen.
                                    </div>
                                </p>
                                <p class="font-bold mt-2">
                                    <div class="flex mb-2">
                                    <i class="fas fa-info-circle mr-2"></i> Ohne Helfer läuft nichts!<br />
                                    Schon jetzt, besten Dank für deine tatkräftige Mithilfe und Unterstützung beim nächsten Stadtlauf 2019!
                                    </div>
                                </p>
                                <p class="mt-6">
                                    Sportliche Grüße und freue mich dich zu sehen.
                                </p>
                                <p class="mt-4">
                                    Maria Rothenbühler,
                                </p>
                                <p >
                                    Ressort Personal OK-Burgdorfer-Stadtlauf
                                </p>
                            </div>
                            
                            <div class="py-8 text-indigo-darker rounded rounded-t-none text-center uppercase font-bold flex items-center justify-center">
                                <button type="submit" 
                                class=" uppercase bg-white hover:bg-grey-lightest text-grey-darkest font-semibold py-4 px-8 border border-grey-light rounded shadow"
                                ">mich anmelden</button>
                            </div>
                        
                        {{ form_end(enrollForm) }}   
                    </div>
                    <div class="bg-burgdorf-light relative rounded shadow-lg w-5/6 md:w-1/2 z-0 mx-auto -mt-1 md:-mt-0 md:-ml-1">
                        
                        <div class="
                            js-prev-slide-box
                            absolute flex items-center
                            pin-y pin-l 
                            pl-4
                            hover:text-grey-darkest cursor-pointer
                            ">
                            <i class="fas fa-angle-double-left fa-2x"></i> 
                        </div>

                        <div class="
                            js-next-slide-box
                            absolute flex items-center 
                            pin-y pin-r 
                            pr-4
                            hover:text-grey-darkest cursor-pointer
                            ">
                            <i class="fas fa-angle-double-right fa-2x"></i>
                        </div>
                        
                        <div class="py-8 text-center text-grey-darkest font-semibold uppercase">Mögliche Einsätze</div>
                        
                        <hr class=" my-0 border border-grey-darkest opacity-25">
                    
                        <div class="py-8">

                            {% for mission in missions %}
                                <div class="
                                    js-slide-box
                                    w-3/4 mx-auto 
                                    bg-white  shadow-lg rounded-lg overflow-hidden 
                                    hidden
                                ">
                                    <div class="sm:flex sm:items-center px-6 py-4">
                                        <img  class="block sm:h-1/2 rounded-full mx-auto mb-4 sm:mb-0 sm:mr-4 sm:ml-0" src="/images/{{mission.image}}" alt="">
                                    </div>
                                    <div class="p-6">    
                                        <div class="text-center sm:text-left sm:flex-grow">
                                            <div class="mb-4">
                                                <p class="text-xl leading-tight uppercase mb-6">{{mission.name}}</p>
                                                
                                                <div class="mb-4">
                                                    {{ mission.shortDescription|raw }}
                                                </div>
                                                <div>
                                                    Wann: {{mission.start|date('d.m.Y')}} um {{mission.start|date('H:i')}} bis {{mission.end|date('H:i')}}
                                                </div>

                                            </div>
                                            <div class="flex justify-center pb-3 text-grey-dark">
                                                <div class="text-center mr-3 border-r w-1/2 pr-3">
                                                    <h2>3</h2>
                                                    <span>angemeldete Helfer</span>
                                                </div>
                                                <div class="text-center w-1/2">
                                                    <h2>{{mission.requiredVolunteers}}</h2>
                                                    <span>gesuchte Helfer</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}   
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}


{% block javascripts %}
    {{parent()}}
    <script>
        jQuery( document ).ready(function() {
            console.log( "ready!" );

            const slideBoxes = jQuery('.js-slide-box');
            let currentSlideBoxIndex = 0;

            let showCurrentSlideBox = function(){
                slideBoxes.hide();
                slideBoxes.slice(currentSlideBoxIndex,currentSlideBoxIndex+1).show();
            }

            let prevSlideBox = function(){
                currentSlideBoxIndex = currentSlideBoxIndex -1;
                if(currentSlideBoxIndex < 0){
                    currentSlideBoxIndex = slideBoxes.length -1;
                }
            }

            let nextSlideBox = function(){
                currentSlideBoxIndex = currentSlideBoxIndex +1;
                if(currentSlideBoxIndex > (slideBoxes.length -1)){
                    currentSlideBoxIndex = 0;
                }
            }

            jQuery('body').keydown(function (e){ 
                if(e.keyCode == 37) 
                {
                    prevSlideBox();
                    showCurrentSlideBox();
                }
                else if(e.keyCode == 39)   
                { 
                    nextSlideBox();
                    showCurrentSlideBox();
                }
            });

            jQuery('.js-prev-slide-box').click(function(){
                prevSlideBox();
                showCurrentSlideBox();
               // console.log("prev",currentSlideBoxIndex);
            });

            jQuery('.js-next-slide-box').click(function(){
                nextSlideBox();
                showCurrentSlideBox();
               // console.log("next",currentSlideBoxIndex);
            });

            showCurrentSlideBox();
            
        });
    </script>
{% endblock %}

